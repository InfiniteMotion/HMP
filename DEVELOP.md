# Hearable Music Player å¼€å‘æ–‡æ¡£

æœ¬æ–‡æ¡£è¯¦ç»†è®°å½•äº†Hearable Music Playerçš„æŠ€æœ¯æ¶æ„ã€å®ç°ç»†èŠ‚ã€å¼€å‘æµç¨‹å’Œå…³é”®å†³ç­–ï¼Œæ—¨åœ¨å¸®åŠ©æˆ‘è‡ªå·±å’Œå…¶ä»–è´¡çŒ®è€…å¿«é€Ÿç†è§£é¡¹ç›®å¹¶å‚ä¸å¼€å‘ã€‚

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ•´ä½“æ¶æ„

é¡¹ç›®é‡‡ç”¨MVVMï¼ˆModel-View-ViewModelï¼‰æ¶æ„æ¨¡å¼ï¼Œç»“åˆJetpack Composeå’ŒAndroidXç»„ä»¶åº“ï¼Œå®ç°äº†æ¸…æ™°çš„èŒè´£åˆ†ç¦»å’Œå¯ç»´æŠ¤æ€§ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    UI Layer     â”‚     â”‚ ViewModel Layer â”‚     â”‚   Domain Layer  â”‚
â”‚  (Jetpack       â”‚â”€â”€â”€â”€â–¶â”‚  (Hilt          â”‚â”€â”€â”€â”€â–¶â”‚  (Use Cases,    â”‚
â”‚   Compose)      â”‚     â”‚   ViewModel)    â”‚     â”‚   Repository)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚                          â”‚
                              â–¼                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Data Layer     â”‚     â”‚  Service Layer  â”‚     â”‚  Network Layer  â”‚
â”‚  (Room,         â”‚     â”‚  (Media3,       â”‚     â”‚  (Retrofit,     â”‚
â”‚   DataStore)    â”‚     â”‚   MediaSession) â”‚     â”‚   OkHttp)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¨¡å—åˆ’åˆ†

é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–æ¶æ„ï¼Œå°†ä¸åŒåŠŸèƒ½åˆ’åˆ†ä¸ºç‹¬ç«‹çš„æ¨¡å—ï¼Œé™ä½è€¦åˆåº¦å¹¶æé«˜å¯ç»´æŠ¤æ€§ã€‚ç›®å‰å·²ç»å®Œæˆäº†æ¨¡å—åŒ–é‡æ„ï¼Œåˆ’åˆ†ä¸ºä»¥ä¸‹æ ¸å¿ƒæ¨¡å—ï¼š

#### æ ¸å¿ƒæ¨¡å—

- **app**: åº”ç”¨å…¥å£æ¨¡å—ï¼ŒåŒ…å«MainActivityå’ŒApplicationç±»
- **core-data**: æ•°æ®å±‚æ¨¡å—ï¼ŒåŒ…å« Room æ•°æ®åº“ã€DataStoreã€ç½‘ç»œè¯·æ±‚ (Retrofit) å’Œ AI æœåŠ¡é›†æˆ
- **core-domain**: é¢†åŸŸå±‚æ¨¡å—ï¼ŒåŒ…å« Use Casesã€é¢†åŸŸæ¨¡å‹å’Œ Repository æ¥å£å®šä¹‰
- **core-player**: æ’­æ”¾æ ¸å¿ƒæ¨¡å—ï¼ŒåŒ…å«Media3æœåŠ¡å’Œæ’­æ”¾æ§åˆ¶é€»è¾‘
- **feature-ui**: UIåŠŸèƒ½æ¨¡å—ï¼ŒåŒ…å«Composeé¡µé¢å’Œç»„ä»¶

### æ¨¡å—é—´ä¾èµ–å…³ç³»

```
:feature-ui â”€â”€â–¶ :core-player
:feature-ui â”€â”€â–¶ :core-domain
:core-player â”€â”€â–¶ :core-domain
:core-data â”€â”€â–¶ :core-domain (implements)
```

### æ¨¡å—åŒ–è¿›å±•

- âœ… å·²å®Œæˆæ¨¡å—åˆ’åˆ†å’Œä¾èµ–é…ç½®
- âœ… å·²å°†Room/Repositoryç§»è‡³core-data
- âœ… å·²å°†Use Casesç§»è‡³core-domain
- âœ… å·²å°†Media3/Serviceç§»è‡³core-player
- âœ… å·²å°†Composeé¡µé¢ç»„ä»¶ç§»è‡³feature-ui
- âœ… appæ¨¡å—ä»…ä¾èµ–feature-uiå’Œæ ¸å¿ƒæ¨¡å—ï¼Œé¿å…æ¨ªå‘è€¦åˆ

### å…³é”®æŠ€æœ¯å†³ç­–

#### 1. ä¾èµ–æ³¨å…¥ï¼šHilt

**é€‰æ‹©ç†ç”±**ï¼šHiltä¸Jetpackç»„ä»¶æ·±åº¦é›†æˆï¼Œæä¾›äº†ç®€å•æ˜“ç”¨çš„APIï¼Œå¹¶ä¸”æ”¯æŒæµ‹è¯•æ›¿æ¢ã€‚ä½œä¸ºä¸ªäººé¡¹ç›®ï¼Œæˆ‘å¸Œæœ›é€šè¿‡ä½¿ç”¨Hiltæ¥å­¦ä¹ ç°ä»£Androidå¼€å‘çš„æœ€ä½³å®è·µã€‚

**å®ç°ç»†èŠ‚**ï¼š
- MusicApplicationæ ‡æ³¨ä¸º@HiltAndroidApp
- ViewModelä½¿ç”¨@HiltViewModelå’Œ@Injectæ„é€ å‡½æ•°
- æä¾›@Moduleå’Œ@Providesæ–¹æ³•æ¥åˆ›å»ºå•ä¾‹ä¾èµ–

#### 2. çŠ¶æ€ç®¡ç†ï¼šKotlin Flow/StateFlow

**é€‰æ‹©ç†ç”±**ï¼šKotlin Flowå’ŒStateFlowæä¾›äº†ä¸€ç§ç®€æ´çš„æ–¹å¼æ¥ç®¡ç†UIçŠ¶æ€ï¼Œå¹¶ä¸”æ”¯æŒå¼‚æ­¥æ“ä½œå’Œçº¿ç¨‹åˆ‡æ¢ã€‚ä½œä¸ºä¸ªäººé¡¹ç›®ï¼Œæˆ‘å¸Œæœ›é€šè¿‡ä½¿ç”¨Flowæ¥å­¦ä¹ å“åº”å¼ç¼–ç¨‹çš„æ€æƒ³ã€‚

**å®ç°ç»†èŠ‚**ï¼š
- ViewModelæš´éœ²StateFlowç»™UIå±‚
- UIå±‚ä½¿ç”¨collectAsState()è®¢é˜…çŠ¶æ€å˜åŒ–
- æ‰€æœ‰çŠ¶æ€æ›´æ–°éƒ½é€šè¿‡Flowè¿›è¡Œï¼Œé¿å…ç«æ€æ¡ä»¶

#### 3. åª’ä½“æ’­æ”¾ï¼šAndroidX Media3

**é€‰æ‹©ç†ç”±**ï¼šAndroidX Media3æ˜¯Googleæ¨å‡ºçš„æ–°ä¸€ä»£åª’ä½“æ’­æ”¾æ¡†æ¶ï¼Œæä¾›äº†ç»Ÿä¸€çš„APIï¼Œæ”¯æŒå¤šç§åª’ä½“æ ¼å¼å’Œæ’­æ”¾åœºæ™¯ã€‚ä½œä¸ºä¸ªäººé¡¹ç›®ï¼Œæˆ‘å¸Œæœ›é€šè¿‡ä½¿ç”¨Media3æ¥å­¦ä¹ ç°ä»£Androidåª’ä½“æ’­æ”¾çš„æœ€ä½³å®è·µã€‚

**å®ç°ç»†èŠ‚**ï¼š
- MusicPlayServiceç®¡ç†ExoPlayerå’ŒMediaSession
- å®ç°éŸ³é¢‘ç„¦ç‚¹ç®¡ç†å’Œé€šçŸ¥æ§åˆ¶
- æ”¯æŒè€³æœºæ’æ‹”ã€è“ç‰™æ§åˆ¶å’Œæ¥ç”µæ‰“æ–­å¤„ç†

#### 4. æ•°æ®å­˜å‚¨ï¼šRoom + DataStore

**é€‰æ‹©ç†ç”±**ï¼šRoomæ˜¯Googleæ¨å‡ºçš„ORMæ¡†æ¶ï¼Œæä¾›äº†ç®€å•æ˜“ç”¨çš„APIï¼Œå¹¶ä¸”æ”¯æŒSQLiteæ•°æ®åº“çš„æ‰€æœ‰åŠŸèƒ½ã€‚DataStoreæ˜¯Googleæ¨å‡ºçš„æ–°ä¸€ä»£åå¥½è®¾ç½®å­˜å‚¨æ¡†æ¶ï¼Œæä¾›äº†ä¸€ç§å®‰å…¨ã€å¯é çš„æ–¹å¼æ¥å­˜å‚¨åº”ç”¨åå¥½è®¾ç½®ã€‚ä½œä¸ºä¸ªäººé¡¹ç›®ï¼Œæˆ‘å¸Œæœ›é€šè¿‡ä½¿ç”¨Roomå’ŒDataStoreæ¥å­¦ä¹ ç°ä»£Androidæ•°æ®å­˜å‚¨çš„æœ€ä½³å®è·µã€‚

**å®ç°ç»†èŠ‚**ï¼š
- Roomæ•°æ®åº“ç‰ˆæœ¬åŒ–ç®¡ç†ï¼Œæ”¯æŒè¿ç§»
- DataStoreå­˜å‚¨ä¸»é¢˜ã€éŸ³é‡ç­‰åå¥½è®¾ç½®
- Repositoryå±‚å°è£…æ•°æ®è®¿é—®é€»è¾‘

#### 5. ç½‘ç»œè¯·æ±‚ï¼šRetrofit + OkHttp

**é€‰æ‹©ç†ç”±**ï¼šRetrofitæ˜¯Squareæ¨å‡ºçš„ç½‘ç»œè¯·æ±‚æ¡†æ¶ï¼Œæä¾›äº†ç®€å•æ˜“ç”¨çš„APIï¼Œå¹¶ä¸”æ”¯æŒå¤šç§ç½‘ç»œè¯·æ±‚æ–¹å¼ã€‚OkHttpæ˜¯Squareæ¨å‡ºçš„HTTPå®¢æˆ·ç«¯ï¼Œæä¾›äº†é«˜æ€§èƒ½ã€å¯é çš„ç½‘ç»œè¯·æ±‚èƒ½åŠ›ã€‚ä½œä¸ºä¸ªäººé¡¹ç›®ï¼Œæˆ‘å¸Œæœ›é€šè¿‡ä½¿ç”¨Retrofitå’ŒOkHttpæ¥å­¦ä¹ ç°ä»£Androidç½‘ç»œè¯·æ±‚çš„æœ€ä½³å®è·µã€‚

**å®ç°ç»†èŠ‚**ï¼š
- Retrofitæ¥å£å®šä¹‰APIè¯·æ±‚
- OkHttpé…ç½®è¿æ¥ã€è¯»å–å’Œå†™å…¥è¶…æ—¶
- å®ç°å¤±è´¥é‡è¯•å’ŒæŒ‡æ•°é€€é¿ç­–ç•¥

#### 6. AIæœåŠ¡é›†æˆï¼šå¤šæœåŠ¡å•†æ”¯æŒ

**é€‰æ‹©ç†ç”±**ï¼šä¸ºäº†æä¾›æ›´çµæ´»çš„ AI æ¨èæœåŠ¡ï¼Œé¡¹ç›®æ”¯æŒå¤šä¸ª AI æœåŠ¡å•†ï¼ˆDeepSeekã€OpenAIã€Claudeã€é€šä¹‰åƒé—®ã€æ–‡å¿ƒä¸€è¨€ï¼‰ã€‚ç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚é€‰æ‹©ä¸åŒçš„æœåŠ¡å•†ã€‚

**å®ç°ç»†èŠ‚**ï¼š
- ç»Ÿä¸€çš„ API é€‚é…å™¨å±‚ï¼Œå°è£…ä¸åŒæœåŠ¡å•†çš„ API è°ƒç”¨
- API å¯†é’¥åŠ å¯†å­˜å‚¨ï¼Œä¿éšœå®‰å…¨æ€§
- æ”¯æŒ API è¿æ¥æµ‹è¯•åŠŸèƒ½
- ç”¨æˆ·å¯åœ¨é…ç½®ç•Œé¢è‡ªç”±åˆ‡æ¢æœåŠ¡å•†

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
Hearable Music Player/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”‚   â”œâ”€â”€ java/com/example/hearablemusicplayer/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MainActivity.kt
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ MusicApplication.kt
â”‚   â”‚   â”‚   â””â”€â”€ res/                 # Resources
â”‚   â”‚   â””â”€â”€ test/                    # Unit tests
â”‚   â””â”€â”€ build.gradle.kts             # Module build configuration
â”œâ”€â”€ core-data/
â”‚   â”œâ”€â”€ schemas/                     # Room database schemas
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”‚   â”œâ”€â”€ java/com/example/hearablemusicplayer/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ database/    # AppDatabase and entities
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ di/          # Database/Network/Repository modules
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ network/     # DeepSeekAPI and network utilities
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ repository/  # Repository implementations
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ util/        # SecureStorage and other utilities
â”‚   â”‚   â”‚   â””â”€â”€ AndroidManifest.xml
â”‚   â”‚   â””â”€â”€ test/                    # Data layer tests
â”‚   â””â”€â”€ build.gradle.kts
â”œâ”€â”€ core-domain/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”‚   â”œâ”€â”€ java/com/example/hearablemusicplayer/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ model/       # Domain models
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ repository/  # Repository interfaces
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ usecase/     # Use Cases
â”‚   â”‚   â”‚   â””â”€â”€ AndroidManifest.xml
â”‚   â”‚   â””â”€â”€ test/                    # Domain layer tests
â”‚   â””â”€â”€ build.gradle.kts
â”œâ”€â”€ core-player/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”‚   â”œâ”€â”€ java/com/example/hearablemusicplayer/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ player/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ di/          # Player modules
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ service/     # MusicPlayService and receiver
â”‚   â”‚   â”‚   â””â”€â”€ res/                 # Player resources
â”‚   â”‚   â””â”€â”€ test/                    # Player layer tests
â”‚   â””â”€â”€ build.gradle.kts
â”œâ”€â”€ feature-ui/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”‚   â”œâ”€â”€ java/com/example/hearablemusicplayer/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ components/  # Reusable UI components
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ home/        # Home screen
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ library/     # Library screen
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ player/      # Player screen
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ settings/    # Settings screen
â”‚   â”‚   â”‚   â””â”€â”€ AndroidManifest.xml
â”‚   â”‚   â””â”€â”€ test/                    # UI tests
â”‚   â””â”€â”€ build.gradle.kts
â”œâ”€â”€ gradle/
â”‚   â””â”€â”€ wrapper/
â”œâ”€â”€ .gitignore
â”œâ”€â”€ build.gradle.kts
â”œâ”€â”€ gradle.properties
â”œâ”€â”€ gradlew
â”œâ”€â”€ gradlew.bat
â””â”€â”€ settings.gradle.kts
```

## ğŸš€ å¼€å‘æµç¨‹

### å¼€å‘ç¯å¢ƒ

- Android Studio Hedgehog | 2023.1.1
- Kotlin 1.9.0
- Gradle 8.2
- Android SDK 34

### æ„å»ºé¡¹ç›®

```bash
# å…‹éš†é¡¹ç›®
https://github.com/yourusername/hearable-music-player.git

# è¿›å…¥é¡¹ç›®ç›®å½•
cd hearable-music-player

# æ„å»ºé¡¹ç›®
./gradlew build

# è¿è¡Œåº”ç”¨
./gradlew installDebug
```

### å¼€å‘è¿›å±•

#### å·²å®Œæˆ

- âœ… æ¨¡å—åŒ–æ¶æ„è®¾è®¡ä¸å®ç°
- âœ… æ ¸å¿ƒéŸ³ä¹æ’­æ”¾åŠŸèƒ½ï¼ˆMedia3é›†æˆï¼‰
- âœ… æœ¬åœ°éŸ³ä¹æ‰«æä¸Roomæ•°æ®åº“å­˜å‚¨
- âœ… å¤š AI æœåŠ¡å•†é›†æˆä¸ç®¡ç†
- âœ… Jetpack Compose UIç•Œé¢æ­å»º
- âœ… Hiltä¾èµ–æ³¨å…¥é…ç½®
- âœ… åŸºæœ¬çš„æ’­æ”¾æ§åˆ¶åŠŸèƒ½
- âœ… è§¦è§‰åé¦ˆå¢å¼ºç”¨æˆ·ä½“éªŒ
- âœ… åŠ¨æ€ä¸»é¢˜è®¾ç½®ä¸åˆ‡æ¢
- âœ… éŸ³é¢‘æ•ˆæœè°ƒèŠ‚åŠŸèƒ½
- âœ… æŒ‰è‰ºæœ¯å®¶åˆ†ç±»æµè§ˆ
- âœ… è‡ªå®šä¹‰ä¸»é¢˜è®¾ç½®
- âœ… ä¼˜åŒ–æ’­æ”¾é¡µé¢UIåŠäº¤äº’ä½“éªŒ
- âœ… æ›´æ–°çŠ¶æ€æ²‰æµ¸å¹¶ä¼˜åŒ–ç”¨æˆ·æ’­æ”¾ç•Œé¢
- âœ… ç»Ÿä¸€è°ƒæ•´UIç»„ä»¶é¢œè‰²é€‚é…ä¸»é¢˜è‰²å½©ä½“ç³»
- âœ… ä¿®å¤æ’­æ”¾è¿›åº¦è°ƒæ•´å¤±è´¥çš„æ¼æ´
- âœ… å¼•å…¥TabScreenæ¨¡æ¿
- âœ… å®ç°æ¯æ—¥æ¨èåˆ·æ–°ç­–ç•¥ç³»ç»Ÿ
- âœ… API å¯†é’¥åŠ å¯†å­˜å‚¨æœºåˆ¶

#### è¿›è¡Œä¸­

- ğŸ”„ å•å…ƒæµ‹è¯•è¦†ç›–
- ğŸ”„ æ€§èƒ½ä¼˜åŒ–ä¸å†…å­˜æ³„æ¼ä¿®å¤
- ğŸ”„ CI/CDæµæ°´çº¿é…ç½®

#### å¾…å®Œæˆ

- ğŸ“ å®Œå–„æ–‡æ¡£
- ğŸ“ ä»£ç æ³¨é‡Šä¸æ ¼å¼åŒ–
- ğŸ“ é”™è¯¯å¤„ç†ä¸å¼‚å¸¸æ•è·

### ä»£ç é£æ ¼

é¡¹ç›®éµå¾ªKotlinå®˜æ–¹ä»£ç é£æ ¼æŒ‡å—ï¼Œä½¿ç”¨ktlintè¿›è¡Œä»£ç æ£€æŸ¥ã€‚

**é…ç½®æ–‡ä»¶**ï¼š
- `.editorconfig`: ç¼–è¾‘å™¨é…ç½®
- `ktlint.gradle`: ktlinté…ç½®

### æµ‹è¯•æµç¨‹

é¡¹ç›®é‡‡ç”¨åˆ†å±‚æµ‹è¯•ç­–ç•¥ï¼Œç¡®ä¿ä»£ç è´¨é‡å’ŒåŠŸèƒ½æ­£ç¡®æ€§ã€‚

#### å•å…ƒæµ‹è¯•

- ä½¿ç”¨JUnit 5å’ŒMockKè¿›è¡Œå•å…ƒæµ‹è¯•
- æµ‹è¯•Repositoryã€Use Caseså’ŒViewModel
- è¿è¡Œå‘½ä»¤ï¼š`./gradlew test`

#### ä»ªå™¨æµ‹è¯•

- ä½¿ç”¨Espressoå’ŒCompose Testè¿›è¡Œä»ªå™¨æµ‹è¯•
- æµ‹è¯•UIäº¤äº’å’ŒæœåŠ¡åŠŸèƒ½
- è¿è¡Œå‘½ä»¤ï¼š`./gradlew connectedAndroidTest`

#### é™æ€æ£€æŸ¥

- ä½¿ç”¨ktlintè¿›è¡Œä»£ç é£æ ¼æ£€æŸ¥
- ä½¿ç”¨detektè¿›è¡Œä»£ç è´¨é‡åˆ†æ
- è¿è¡Œå‘½ä»¤ï¼š`./gradlew ktlintCheck detekt`

### ç‰ˆæœ¬æ§åˆ¶

é¡¹ç›®ä½¿ç”¨Gitè¿›è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Œé‡‡ç”¨Git Flowå·¥ä½œæµã€‚

**åˆ†æ”¯ç­–ç•¥**ï¼š
- `main`: ä¸»åˆ†æ”¯ï¼ŒåŒ…å«ç¨³å®šç‰ˆæœ¬
- `develop`: å¼€å‘åˆ†æ”¯ï¼ŒåŒ…å«æœ€æ–°å¼€å‘ä»£ç 
- `feature/*`: åŠŸèƒ½åˆ†æ”¯ï¼Œç”¨äºå¼€å‘æ–°åŠŸèƒ½
- `bugfix/*`: ä¿®å¤åˆ†æ”¯ï¼Œç”¨äºä¿®å¤bug

### æ„å»ºä¸å‘å¸ƒ

#### æ„å»ºç±»å‹

- `debug`: è°ƒè¯•ç‰ˆæœ¬ï¼ŒåŒ…å«è°ƒè¯•ä¿¡æ¯
- `release`: å‘å¸ƒç‰ˆæœ¬ï¼Œç»è¿‡æ··æ·†å’Œä¼˜åŒ–

#### å‘å¸ƒæµç¨‹

1. æ›´æ–°ç‰ˆæœ¬å·å’Œå˜æ›´æ—¥å¿—
2. æ„å»ºå‘å¸ƒåŒ…ï¼š`./gradlew assembleRelease`
3. ç­¾åAPKæ–‡ä»¶
4. ä¸Šä¼ åˆ°åº”ç”¨å•†åº—æˆ–åˆ†å‘æ¸ é“

## ğŸ¯ å…³é”®å®ç°ç»†èŠ‚

### éŸ³ä¹æ‰«æä¸è§£æ

**æµç¨‹**ï¼š
1. ç”³è¯·å­˜å‚¨æƒé™
2. æ‰«æè®¾å¤‡ä¸­çš„éŸ³ä¹æ–‡ä»¶
3. ä½¿ç”¨Jaudiotaggerè§£æID3æ ‡ç­¾
4. å°†éŸ³ä¹ä¿¡æ¯å­˜å‚¨åˆ°Roomæ•°æ®åº“
5. é€šè¿‡Repositoryæš´éœ²ç»™UIå±‚

**å…³é”®ä»£ç **ï¼š
- `MusicScanner.kt`: éŸ³ä¹æ‰«æé€»è¾‘
- `ID3Parser.kt`: ID3æ ‡ç­¾è§£æ
- `MusicRepository.kt`: æ•°æ®è®¿é—®å°è£…

### æ’­æ”¾æ§åˆ¶

**æµç¨‹**ï¼š
1. ç”¨æˆ·é€‰æ‹©æ­Œæ›²
2. ViewModelæ›´æ–°æ’­æ”¾é˜Ÿåˆ—
3. Serviceå±‚å¯åŠ¨ExoPlayer
4. åª’ä½“ä¼šè¯åŒæ­¥æ’­æ”¾çŠ¶æ€
5. é€šçŸ¥æ æ˜¾ç¤ºæ’­æ”¾æ§åˆ¶

**å…³é”®ä»£ç **ï¼š
- `PlayControlViewModel.kt`: æ’­æ”¾æ§åˆ¶é€»è¾‘
- `MusicPlayService.kt`: æ’­æ”¾æœåŠ¡å®ç°
- `MediaSessionManager.kt`: åª’ä½“ä¼šè¯ç®¡ç†

### AIæ¨èåŠŸèƒ½

**æµç¨‹**ï¼š
1. ç”¨æˆ·é€‰æ‹© AI æœåŠ¡å•†å¹¶é…ç½® API å¯†é’¥
2. ç³»ç»Ÿè‡ªåŠ¨æˆ–æ‰‹åŠ¨è§¦å‘æ¨èï¼ˆæ ¹æ®åˆ·æ–°ç­–ç•¥ï¼‰
3. ViewModelè°ƒç”¨Use Case
4. Repositoryè¯·æ±‚å½“å‰é€‰ä¸­çš„ AI æœåŠ¡å•† API
5. è§£ææ¨èç»“æœå¹¶ç”Ÿæˆæ ‡ç­¾
6. å±•ç¤ºæ¨èæ­Œæ›²å’Œ AI ç”Ÿæˆçš„æ‰©å±•ä¿¡æ¯

**å…³é”®ä»£ç **ï¼š
- `MultiProviderApiAdapter.kt`: å¤šæœåŠ¡å•† API é€‚é…å™¨
- `GetDailyMusicRecommendationUseCase.kt`: æ¨èç”¨ä¾‹
- `SettingsRepository.kt`: API å¯†é’¥åŠ å¯†å­˜å‚¨
- `AIScreen.kt`: AI æœåŠ¡å•†é…ç½®ç•Œé¢

### æ¯æ—¥æ¨èåˆ·æ–°ç­–ç•¥

**åŠŸèƒ½**ï¼š
- æŒ‰æ—¶é—´åˆ·æ–°ï¼šç”¨æˆ·å¯è®¾ç½®é—´éš”å°æ—¶æ•°ï¼ˆé»˜è®¤24å°æ—¶ï¼‰
- æŒ‰å¯åŠ¨æ¬¡æ•°åˆ·æ–°ï¼šç”¨æˆ·å¯è®¾ç½®å¯åŠ¨æ¬¡æ•°ï¼ˆé»˜è®¤3æ¬¡ï¼‰
- æ™ºèƒ½åˆ·æ–°ï¼šé¢„ç•™æ¥å£ï¼Œåç»­å¯æ ¹æ®å¬æ­Œä¹ æƒ¯æ™ºèƒ½åˆ¤æ–­
- æŒä¹…åŒ–å­˜å‚¨ï¼šé‡å¯åä¿æŒåŒä¸€é¦–æ¯æ—¥æ¨è

**å…³é”®ä»£ç **ï¼š
- `UserSettingsUseCase.kt`: åˆ·æ–°ç­–ç•¥åˆ¤æ–­é€»è¾‘
- `SettingsRepository.kt`: åˆ·æ–°é…ç½®å­˜å‚¨
- `MusicViewModel.kt`: åˆ·æ–°æ§åˆ¶é€»è¾‘
- `SettingScreen.kt`: åˆ·æ–°ç­–ç•¥é…ç½®ç•Œé¢

## ğŸ“š å­¦ä¹ èµ„æº

### å®˜æ–¹æ–‡æ¡£

- [Kotlinå®˜æ–¹æ–‡æ¡£](https://kotlinlang.org/docs/home.html)
- [Jetpack Composeå®˜æ–¹æ–‡æ¡£](https://developer.android.com/jetpack/compose)
- [AndroidX Media3å®˜æ–¹æ–‡æ¡£](https://developer.android.com/jetpack/androidx/releases/media3)
- [Hiltå®˜æ–¹æ–‡æ¡£](https://developer.android.com/training/dependency-injection/hilt-android)

### æ¨èæ•™ç¨‹

- [Jetpack Compose Tutorial](https://developer.android.com/codelabs/jetpack-compose-basics)
- [Android MVVM Architecture](https://developer.android.com/topic/architecture)
- [Media3 Playback Tutorial](https://developer.android.com/codelabs/media3-getting-started)

## ğŸ¤ è´¡çŒ®æŒ‡å—

ä½œä¸ºä¸ªäººé¡¹ç›®ï¼Œæˆ‘æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®å’Œåé¦ˆã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•å»ºè®®æˆ–é—®é¢˜ï¼Œè¯·éšæ—¶è”ç³»æˆ‘ã€‚

### è´¡çŒ®æ–¹å¼

1. æäº¤IssueæŠ¥å‘Šbugæˆ–æå‡ºåŠŸèƒ½å»ºè®®
2. æäº¤Pull Requestä¿®å¤bugæˆ–æ·»åŠ æ–°åŠŸèƒ½
3. æä¾›ä½¿ç”¨åé¦ˆå’Œæ”¹è¿›å»ºè®®

### ä»£ç è§„èŒƒ

- éµå¾ªKotlinå®˜æ–¹ä»£ç é£æ ¼æŒ‡å—
- ä½¿ç”¨Jetpack Composeçš„æœ€ä½³å®è·µ
- ä¿æŒä»£ç ç®€æ´ã€å¯è¯»æ€§å¼º
- æ·»åŠ å¿…è¦çš„æ³¨é‡Šå’Œæ–‡æ¡£

## ğŸ“„ è®¸å¯è¯

è¯¥é¡¹ç›®ä½¿ç”¨MITè®¸å¯è¯ - è¯¦æƒ…è¯·æŸ¥çœ‹LICENSEæ–‡ä»¶

---

Â© 2026 Hearable Music Player | Developed by WLYB