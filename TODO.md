# Hearable Music Player 待办事项

本文档仅包含可执行的任务列表，帮助我规划和跟踪个人项目的进展。

## 📊 任务执行次序

### 高优先级（立即执行）
#### 架构优化
1. [ ] 拆分臃肿的 MusicRepository 为多个专注的 Repository
2. [ ] 采用发布-订阅模式解耦 Activity/ViewModel 与 Service 的直接依赖
3. [ ] 建立统一的异常层次结构和错误处理策略
4. [ ] 实现统一的资源管理方案，避免内存泄漏
5. [ ] 优化可测试性，减少 Android 框架依赖

#### 质量保障
6. [🔄] 完成核心功能的单元测试（进行中）
7. [✅] 修复播放进度调整失败的漏洞
8. [✅] 修复代码中的潜在问题和安全漏洞（已完成）

#### 性能优化
9. [✅] 减少应用启动时间（已完成）
10. [🔄] 优化内存使用，避免内存泄漏（进行中）
11. [✅] 优化电池消耗（已完成）
12. [✅] 优化音乐扫描速度（已完成）
13. [✅] 实现更好的状态管理，避免UI卡顿（已完成）

### 中优先级（接下来执行）
#### 核心功能完善
14. [✅] 实现 AI 服务商多元化支持（已完成）
15. [✅] 实现每日推荐刷新策略系统（已完成）
16. [ ] 添加桌面小组件功能
17. [ ] 实现音乐标签编辑功能

#### 个性化功能
18. [ ] 支持音乐收藏和点赞
19. [ ] 支持音乐评论和评分
20. [ ] 实现音乐排行榜
21. [ ] 支持多语言（中文、英文）

### 低优先级（最后执行）
#### 技术债务
22. [🔄] 清理冗余代码，提高代码可读性（进行中）
23. [ ] 优化命名和注释，提高代码可维护性
24. [✅] 优化依赖关系，避免循环依赖（已完成模块化重构）

#### 维护任务
25. [ ] 移除未使用的依赖库，减小APK体积
26. [ ] 定期更新依赖库，确保使用最新版本
